{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import SearchForm from\"./SearchForm\";import WeatherDetails from\"./WeatherDetails\";import\"./weather.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Weather=()=>{const[currentTime,setCurrentTime]=useState(new Date());const[searchQuery,setSearchQuery]=useState(\"\");const[weatherData,setWeatherData]=useState(null);const[error,setError]=useState(\"\");//upadated the time rendering the every sec\nuseEffect(()=>{const timerID=setInterval(()=>tick(),1000);return()=>clearInterval(timerID);},[]);const tick=()=>{setCurrentTime(new Date());};const handleInputChange=event=>{setSearchQuery(event.target.value);};useEffect(()=>{handleSearch(\"Sukkur\");},[]);const handleFormSubmit=e=>{e.preventDefault();handleSearch(searchQuery);setSearchQuery(\"\");};// fetch the current Weather Using openweathermap Api\nconst handleSearch=cityName=>{fetch(\"https://api.openweathermap.org/data/2.5/weather?q=\".concat(cityName,\"&appid=f9ad0d563e1d98c23693e24c1ac143bf\")).then(response=>response.json()).then(data=>{if(data.cod===\"404\"){setError(\"City not found\");setWeatherData(null);}else{setWeatherData(data);setError(\"\");}}).catch(error=>{console.log(error);setError(\"An error occurred\");setWeatherData(null);});};// displaying the data from an API\nreturn/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"name-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"weathr-app\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Weather App\"}),/*#__PURE__*/_jsx(\"a\",{className:\"logo\",href:\"https://github.com/mhg007\",target:\"_blank\",children:/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",width:\"16\",height:\"16\",fill:\"currentColor\",class:\"bi bi-github\",viewBox:\"0 0 16 16\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z\"})})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"weather-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"weather-subcontainer\",children:[/*#__PURE__*/_jsx(SearchForm,{searchQuery:searchQuery,handleInputChange:handleInputChange,handleFormSubmit:handleFormSubmit}),error?/*#__PURE__*/_jsx(\"p\",{className:\"errors-styles\",children:error}):weatherData&&/*#__PURE__*/_jsx(WeatherDetails,{temperature:\"\".concat(Math.round(weatherData.main.temp-273.15),\"\\xB0C\"),weatherCondition:weatherData.weather[0].description,weatherIcon:weatherData.weather[0].icon,cityName:weatherData.name,countryName:weatherData.sys.country,humidity:weatherData.main.humidity,wind:weatherData.wind.speed,pressure:weatherData.main.pressure,visibility:weatherData.visibility})]})})]});};export default Weather;","map":{"version":3,"names":["React","useState","useEffect","SearchForm","WeatherDetails","jsx","_jsx","jsxs","_jsxs","Weather","currentTime","setCurrentTime","Date","searchQuery","setSearchQuery","weatherData","setWeatherData","error","setError","timerID","setInterval","tick","clearInterval","handleInputChange","event","target","value","handleSearch","handleFormSubmit","e","preventDefault","cityName","fetch","concat","then","response","json","data","cod","catch","console","log","children","className","href","xmlns","width","height","fill","class","viewBox","d","temperature","Math","round","main","temp","weatherCondition","weather","description","weatherIcon","icon","name","countryName","sys","country","humidity","wind","speed","pressure","visibility"],"sources":["/home/ali/weather-app/src/components/Weather.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport SearchForm from \"./SearchForm\";\nimport WeatherDetails from \"./WeatherDetails\";\nimport \"./weather.css\";\n\nconst Weather = () => {\n  const [currentTime, setCurrentTime] = useState(new Date());\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [weatherData, setWeatherData] = useState(null);\n  const [error, setError] = useState(\"\");\n\n  //upadated the time rendering the every sec\n  useEffect(() => {\n    const timerID = setInterval(() => tick(), 1000);\n\n    return () => clearInterval(timerID);\n  }, []);\n\n  const tick = () => {\n    setCurrentTime(new Date());\n  };\n\n  const handleInputChange = (event) => {\n    setSearchQuery(event.target.value);\n  };\n\n  useEffect(() => {\n    handleSearch(\"Sukkur\");\n  }, []);\n\n  const handleFormSubmit = (e) => {\n    e.preventDefault();\n    handleSearch(searchQuery);\n    setSearchQuery(\"\");\n  };\n\n  // fetch the current Weather Using openweathermap Api\n  const handleSearch = (cityName) => {\n    fetch(\n      `https://api.openweathermap.org/data/2.5/weather?q=${cityName}&appid=f9ad0d563e1d98c23693e24c1ac143bf`\n    )\n      .then((response) => response.json())\n      .then((data) => {\n        if (data.cod === \"404\") {\n          setError(\"City not found\");\n          setWeatherData(null);\n        } else {\n          setWeatherData(data);\n          setError(\"\");\n        }\n      })\n      .catch((error) => {\n        console.log(error);\n        setError(\"An error occurred\");\n        setWeatherData(null);\n      });\n  };\n\n  // displaying the data from an API\n  return (\n    <div>\n      <div className=\"name-container\">\n        <div className=\"weathr-app\">\n          <h1>Weather App</h1>\n          <a className=\"logo\" href=\"https://github.com/mhg007\" target=\"_blank\">\n          <svg\n              xmlns=\"http://www.w3.org/2000/svg\"\n              width=\"16\"\n              height=\"16\"\n              fill=\"currentColor\"\n              class=\"bi bi-github\"\n              viewBox=\"0 0 16 16\"\n            >\n              <path d=\"M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z\" />\n            </svg>\n\n          </a>\n      \n        </div>\n      </div>\n      <div className=\"weather-container\">\n        <div className=\"weather-subcontainer\">\n          <SearchForm\n            searchQuery={searchQuery}\n            handleInputChange={handleInputChange}\n            handleFormSubmit={handleFormSubmit}\n          />\n\n          {error ? (\n            <p className=\"errors-styles\">{error}</p>\n          ) : (\n            weatherData && (\n              <WeatherDetails\n                temperature={`${Math.round(weatherData.main.temp - 273.15)}Â°C`}\n                weatherCondition={weatherData.weather[0].description}\n                weatherIcon={weatherData.weather[0].icon}\n                cityName={weatherData.name}\n                countryName={weatherData.sys.country}\n                humidity={weatherData.main.humidity}\n                wind={weatherData.wind.speed}\n                pressure={weatherData.main.pressure}\n                visibility={weatherData.visibility}\n              />\n            )\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Weather;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}